# fox-swift-api

> This file is generated by AI, please check the correctness of the content.

**fox-swift-api** is a network request interface based on Swift, designed for **FoxSwift** projects. This framework adopts modern Swift technology to provide high-performance and easy-to-use API interfaces. The framework integrates the **Vapor** server framework and provides a rich macro system to simplify the API development process.

## Architecture

### Core Technologies

- **Swift 6.1+**: Use the latest Swift features, including the Macro system
- **Vapor**: A high-performance Swift backend framework
- **Swift Concurrency**: Adopt async/await for asynchronous operations
- **Protocol Oriented**: Program design oriented by Protocol, providing high scalability
- **SwiftSyntax**: Used to implement custom compile-time macros
- **Papyrus**: Used to implement compile-time macros for API interfaces

### Main Components

#### APICore

- **ServiceProtocol**: Define the basic interface of the service layer
- **ServiceRouteCollection**: Automatic routing registration system
- **Request Extensions**: Provide type-safe request parameter processing
- **RouteError**: Unified error handling mechanism
- **@Service Macro**: Automatically generate routing and service layer code

#### APIPlugin

- **Service Macro**: Automatically generate routing and service layer code
- **Compile-time code generation**: Reduce repetitive template code
- **Type-safe routing definition**: Support GET, POST, PUT, etc. HTTP methods

#### FoxSwiftAPI

- **Unified API version control**: Manage through `FoxSwift.apiVersion`
- **Standardized routing prefix**: Automatically add `/api/v{version}` prefix
- **Type-safe content processing**: Use `CodableContent` protocol
- **Macro system**: Provide a simple and easy-to-use macro system to simplify API development

### Features

- **Type-safe API definition**

  ```swift
  @API
  @Service
  protocol Users {
      @GET("/users")
      func getUsers(limit: Int) async throws -> [User]
  }
  ```

- **Automatic error handling**
  - Request parameter validation
  - Route parameter parsing
  - Request content decoding

  ```swift
  @API
  @Service
  protocol Users {
      @GET("/users")
      func getUsers(limit: Int) async throws -> [User]
  }
  ```

- **Test support**
  - Integrate Vapor test framework
  - Provide Mock functionality
  - Support unit testing and integration testing

## System Requirements

- Swift 6.0 or higher
- iOS 16.0+ / macOS 13.0+
- Xcode 15.0+

## Dependencies

- [Vapor](https://github.com/vapor/vapor)
- [SwiftNIO](https://github.com/apple/swift-nio)
- [SwiftSyntax](https://github.com/apple/swift-syntax)
- [Papyrus](https://github.com/joshuawright11/papyrus)
